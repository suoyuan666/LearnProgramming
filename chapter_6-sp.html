<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>è¾“å…¥è¾“å‡ºå‡½æ•° - å­¦ä¹ ç¼–ç¨‹</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter_1.html"><strong aria-hidden="true">1.</strong> æ¦‚è¿°</a></li><li class="chapter-item expanded "><a href="chapter_2.html"><strong aria-hidden="true">2.</strong> æ•°æ®ç±»å‹ä»‹ç»</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_2-typidata.html"><strong aria-hidden="true">2.1.</strong> ç®€å•æ•°æ®ç±»å‹</a></li><li class="chapter-item expanded "><a href="chapter_2-fudata.html"><strong aria-hidden="true">2.2.</strong> å¤æ‚æ•°æ®ç±»å‹</a></li><li class="chapter-item expanded "><a href="chapter_2-asm.html"><strong aria-hidden="true">2.3.</strong> æ±‡ç¼–ä»‹ç»</a></li><li class="chapter-item expanded "><a href="chapter_2-xisuo.html"><strong aria-hidden="true">2.4.</strong> ç»†ğŸ”’</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_3.html"><strong aria-hidden="true">3.</strong> ç¨‹åºæ‰§è¡Œæµç¨‹çš„æ§åˆ¶</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_3-if.html"><strong aria-hidden="true">3.1.</strong> åˆ¤æ–­</a></li><li class="chapter-item expanded "><a href="chapter_3-circulate.html"><strong aria-hidden="true">3.2.</strong> å¾ªç¯</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_4.html"><strong aria-hidden="true">4.</strong> å‡½æ•°è°ƒç”¨</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_4-asm.html"><strong aria-hidden="true">4.1.</strong> æ±‡ç¼–ä»‹ç»</a></li><li class="chapter-item expanded "><a href="chapter_4-xisuo.html"><strong aria-hidden="true">4.2.</strong> ç»†ğŸ”’</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_6.html"><strong aria-hidden="true">5.</strong> I/Oæ“ä½œ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_6-sp.html" class="active"><strong aria-hidden="true">5.1.</strong> è¾“å…¥è¾“å‡ºå‡½æ•°</a></li><li class="chapter-item expanded "><a href="chapter_6-file.html"><strong aria-hidden="true">5.2.</strong> æ–‡ä»¶æ“ä½œå‡½æ•°</a></li><li class="chapter-item expanded "><a href="chapter_6-syscall.html"><strong aria-hidden="true">5.3.</strong> syscallç®€å•ä»‹ç»</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">å­¦ä¹ ç¼–ç¨‹</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="è¾“å…¥è¾“å‡ºå‡½æ•°"><a class="header" href="#è¾“å…¥è¾“å‡ºå‡½æ•°">è¾“å…¥è¾“å‡ºå‡½æ•°</a></h1>
<p>è¿™é‡Œä»‹ç»ä¸¤ä¸ªåŸºæœ¬çš„å‡½æ•°ï¼š<code>printf()</code>å’Œ<code>scanf()</code>ã€‚</p>
<h2 id="printf"><a class="header" href="#printf">printf</a></h2>
<p>åœ¨man-pagesä¸‹æŸ¥æ‰¾<code>printf</code>å¯ä»¥å‘ç°å®ƒå’Œå…¶ä»–çš„å‡½æ•°ä¸€èµ·å‡ºç°ï¼š</p>
<pre><code>NAME
       printf, fprintf, dprintf, sprintf, snprintf, vprintf, vfprintf, vdprintf, vsprintf, vsnprintf - formatted output conversion

</code></pre>
<p>åœ¨DESCRIPTIONä¸­æœ‰å…³äº<code>printf</code>çš„ä»‹ç»ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„ä¸€äº›å‡½æ•°çš„ï¼š</p>
<blockquote>
<p>The  functions  in  the  printf()  family  produce  output according to a format as described below.  The functions printf() and vprintf() write output to stdout, the standard output stream; fprintf() and vfprintf() write output to the given output stream; sprintf(), snprintf(), vsprintf(), and vsnprintf() write to the character string str.</p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°å…¶ä¸­å¯¹<code>printf()</code>çš„ä»‹ç»â€”â€”æ ¹æ®ä¸€å®šçš„æ ¼å¼æŠŠè¾“å‡ºå†™åˆ°stdoutä¸Šï¼Œè¿™é‡Œå…ˆä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯stdoutã€‚</p>
<p>è¿™ä¸ªåŒæ ·å¯ä»¥åœ¨man-pagesä¸­æ‰¾åˆ°ä»‹ç»</p>
<blockquote>
<p>stdin, stdout, stderr - standard I/O streams</p>
</blockquote>
<p>è¿™é‡Œä»‹ç»äº†ä¸‰ä¸ªstdå¼€å¤´çš„ä¸œè¥¿ï¼Œè¢«ç§°ä¸ºåŸºæœ¬I/Oæµï¼Œstdå°±æ˜¯standardçš„ç¼©å†™ã€‚</p>
<p>å†çœ‹åˆ°DESCRIPTIONï¼š</p>
<blockquote>
<p>Under normal circumstances  every  UNIX program has three streams opened for it when it starts up, one for input, one for output, and one for printing diagnostic or error messages.
The  input stream is referred to as &quot;standard input&quot;; the output stream is referred to as &quot;standard output&quot;; and the error stream is referred to as &quot;standard error&quot;.  These terms are abbreviated to form the symbols used to refer to these files, namely stdin, stdout, and stderr.</p>
</blockquote>
<p>è¿™æ—¶å€™å°±çŸ¥é“äº†è¿™ä»¨çš„ä½œç”¨äº†ï¼Œä¹Ÿå°±çŸ¥é“äº†<code>printf()</code>ä¸ºä»€ä¹ˆå†™åˆ°stdoutã€‚stdinã€stdoutè¿˜æœ‰stderræ˜¯è¿›ç¨‹æ‰“å¼€çš„å‰ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ–‡ä»¶æè¿°ç¬¦æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºç®¡é“ï¼ˆæ¥ä¸‹æ¥ä¼šä»‹ç»ï¼‰ã€æ‰“å¼€æ–‡ä»¶ã€å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶æè¿°ç¬¦ã€‚</p>
<p>å¯ä»¥é€šè¿‡straceå·¥å…·æ¥éªŒè¯<code>printf()</code>ç¡®å®æ˜¯è¾“å‡ºåˆ°äº†stdoutä¸Šï¼š</p>
<pre><code class="language-bash">~/CodeProject/C/LP
&gt; strace ./hello
execve(&quot;./hello&quot;, [&quot;./hello&quot;], 0x7ffd33390550 /* 84 vars */) = 0
brk(NULL)                               = 0x5570f9400000
arch_prctl(0x3001 /* ARCH_??? */, 0x7ffc23864ae0) = -1 EINVAL (æ— æ•ˆçš„å‚æ•°)
access(&quot;/etc/ld.so.preload&quot;, R_OK)      = -1 ENOENT (æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•)
openat(AT_FDCWD, &quot;/etc/ld.so.cache&quot;, O_RDONLY|O_CLOEXEC) = 3
newfstatat(3, &quot;&quot;, {st_mode=S_IFREG|0644, st_size=195927, ...}, AT_EMPTY_PATH) = 0
mmap(NULL, 195927, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f6657bae000
close(3)                                = 0
openat(AT_FDCWD, &quot;/usr/lib/libc.so.6&quot;, O_RDONLY|O_CLOEXEC) = 3
read(3, &quot;\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0P9\2\0\0\0\0\0&quot;..., 832) = 832
pread64(3, &quot;\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0&quot;..., 784, 64) = 784
newfstatat(3, &quot;&quot;, {st_mode=S_IFREG|0755, st_size=1953112, ...}, AT_EMPTY_PATH) = 0
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f6657bac000
pread64(3, &quot;\6\0\0\0\4\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0@\0\0\0\0\0\0\0&quot;..., 784, 64) = 784
mmap(NULL, 1994096, PROT_READ, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f66579c5000
mmap(0x7f66579e7000, 1417216, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x22000) = 0x7f66579e7000
mmap(0x7f6657b41000, 360448, PROT_READ, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x17c000) = 0x7f6657b41000
mmap(0x7f6657b99000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1d4000) = 0x7f6657b99000
mmap(0x7f6657b9f000, 52592, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f6657b9f000
close(3)                                = 0
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f66579c3000
arch_prctl(ARCH_SET_FS, 0x7f6657bad640) = 0
set_tid_address(0x7f6657bad910)         = 7792
set_robust_list(0x7f6657bad920, 24)     = 0
rseq(0x7f6657badf60, 0x20, 0, 0x53053053) = 0
mprotect(0x7f6657b99000, 16384, PROT_READ) = 0
mprotect(0x5570f8a3c000, 4096, PROT_READ) = 0
mprotect(0x7f6657c0f000, 8192, PROT_READ) = 0
prlimit64(0, RLIMIT_STACK, NULL, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0
munmap(0x7f6657bae000, 195927)          = 0
newfstatat(1, &quot;&quot;, {st_mode=S_IFCHR|0600, st_rdev=makedev(0x88, 0x3), ...}, AT_EMPTY_PATH) = 0
getrandom(&quot;\xa3\x5f\x9d\xdb\x6b\xc4\x83\x4b&quot;, 8, GRND_NONBLOCK) = 8
brk(NULL)                               = 0x5570f9400000
brk(0x5570f9421000)                     = 0x5570f9421000
write(1, &quot;success\n&quot;, 8success
)                = 8
exit_group(0)                           = ?
+++ exited with 0 +++

</code></pre>
<p>straceå¯ä»¥è·Ÿè¸ªä¸€ä¸ªç¨‹åºçš„ç³»ç»Ÿè°ƒç”¨å’Œä¿¡å·ï¼Œè¿™ä¸ªåŒæ ·åœ¨man-pageså¯ä»¥æ‰¾åˆ°ã€‚æœ‰äº›GNU/Linuxå‘è¡Œç‰ˆåœ¨å®‰è£…æ—¶ä¼šå®‰è£…straceï¼Œä¸è¿‡åƒæˆ‘ä½¿ç”¨çš„Arch Linuxå¹¶æ²¡æœ‰ï¼Œä½ éœ€è¦ç”¨pacmanå®‰è£…ã€‚</p>
<p>å…³äºæ“ä½œç³»ç»Ÿçš„ç³»ç»Ÿè°ƒç”¨ï¼Œæˆ‘ä¼šåœ¨è¿™ä¸ªç« èŠ‚å•åˆ—ä¸€ä¸ªå°èŠ‚ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œè¿™é‡Œå¯ä»¥åœ¨æœ€åå‡ è¡Œçœ‹åˆ°ï¼š</p>
<pre><code class="language-bash">write(1, &quot;success\n&quot;, 8success
)                = 8
</code></pre>
<p><code>write()</code>å°±æ˜¯ç”¨æ¥å‘æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦å†™å…¥æ•°æ®ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ç”¨æ¥æŒ‡å®šæ–‡ä»¶æè¿°ç¬¦çš„ï¼Œå¯ä»¥çœ‹åˆ°å®ƒç¡®å®æ˜¯å‘stduotå†™çš„success\nã€‚</p>
<hr />
<p>ä¸è¿‡straceçš„è¾“å‡ºå¹¶ä¸æ˜¯stdoutï¼Œè€Œæ˜¯stderrã€‚è¿™é‡Œå¯ä»¥ç”¨ç®¡é“æ¥è¯æ˜ï¼Œæˆ–è€…å…¶å®strace straceä¹Ÿå¯ä»¥ã€‚</p>
<pre><code class="language-bash">strace ./hello | grep write
</code></pre>
<p>è¿™é‡Œçš„<code>grep</code>å¯ä»¥åœ¨<code>strace ./hello</code>çš„è¾“å‡ºä¸­ç­›é€‰å‡ºæœ‰writeçš„æ•°æ®ï¼Œå¯æƒœæ˜¯æ²¡æœ‰ç”¨çš„ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºç®¡é“çš„å®ç°æ˜¯æŠŠç®¡é“å·¦è¾¹çš„è¿›ç¨‹çš„stdoutå’Œç®¡é“å³ç«¯çš„è¿›ç¨‹çš„stdinè¿æ¥èµ·æ¥ï¼Œä½†æ˜¯straceå¹¶ä¸å¾€stdoutå†™æ•°æ®ï¼Œæ‰€ä»¥grepå¹¶æ²¡æœ‰å¾—åˆ°straceçš„è¾“å‡ºã€‚</p>
<p>å¯ä»¥æŒ‡å®šæŠŠstderrçš„è¾“å‡ºé‡å®šå‘åˆ°stdoutï¼š</p>
<pre><code class="language-bash">~/CodeProject/C/LP
&gt; strace ./hello 2&gt;&amp;1 | grep write
write\(1, &quot;success\n&quot;, 8success

</code></pre>
<hr />
<h2 id="scanf"><a class="header" href="#scanf">scanf</a></h2>
<p>åŒæ ·æ”¾ä¸€æ‰‹man-pagesçš„NAMEï¼š</p>
<blockquote>
<p>NAME
scanf, fscanf, vscanf, vfscanf - input FILE format conversion</p>
</blockquote>
<p>DESCRIPTIONä¸­å…³äºscanfçš„éƒ¨åˆ†ï¼š</p>
<blockquote>
<p>The scanf() function reads input from the standard input stream stdin and fscanf() reads input from the stream pointer stream.</p>
</blockquote>
<p>å¦‚æœæˆåŠŸè¯»äº†ï¼Œå‡½æ•°çš„è¿”å›å€¼å°†ä¼šè¿”å›è¯»å–çš„å­—èŠ‚æ•°ã€‚</p>
<p>ä¸<code>printf()</code>ä¼šè°ƒç”¨<code>write()</code>ç³»ç»Ÿè°ƒç”¨ç±»ä¼¼ï¼Œ<code>scanf()</code>ä¼šè°ƒç”¨<code>read()</code>ç³»ç»Ÿè°ƒç”¨ã€‚<code>read()</code>ä¹Ÿæ˜¯ä¸‰ä¸ªå‚æ•°ï¼Œå’Œ<code>write()</code>çš„å‚æ•°éƒ½å·®ä¸å¤šã€‚</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="chapter_6.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="chapter_6-file.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="chapter_6.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="chapter_6-file.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
